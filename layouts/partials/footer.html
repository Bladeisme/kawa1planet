<footer class="footer">

    {{$scratch := newScratch}}
    {{ range (where .Site.Pages "Kind" "page" )}}
        {{$scratch.Add "total" .WordCount}}
    {{ end }}

    {{ $articleCount := len .Site.RegularPages }}
    {{ $totalWordCount := 0 }}
    {{ range .Site.Pages }}
    {{ $totalWordCount = add $totalWordCount .WordCount }}
    {{ end }}

    {{ if .Site.Params.footer.enable }}
        <div class="container">
            <div class="footer-items">
                {{ if .Site.Params.footer.visitor }}
                    <div class="footer-item">
                        <i class="fa fa-user"></i> <span id="busuanzi_value_site_pv"></span> |
                        <i class="fa fa-eye"></i> <span id="busuanzi_value_site_uv"></span>
                    </div>
                {{ end }}
                {{ if .Site.Params.footer.copyRight }}
                    <div class="footer-item">
                        © {{ .Site.Params.footer.from }}-{{ now.Format "2006" }} <a href="{{ .Site.Author.link }}">{{ .Site.Author.name }}</a>,星球已自转<i class="fas fa-bell"></i> <a id="days">0</a>
                    </div>
                    {{ end }}

                    <script>
                        var s1 = '2022-04-08';//设置为建站时间
                        s1 = new Date(s1.replace(/-/g, "/"));
                        s2 = new Date();
                        var days = s2.getTime() - s1.getTime();
                        var number_of_days = parseInt(days / (1000 * 60 * 60 * 24));
                        document.getElementById('days').innerHTML = number_of_days;
                      </script>

                    <div>已生产 {{ $articleCount }} 篇文章，共 {{ $totalWordCount }} 字</div>
                

                {{ if .Site.Params.footer.themeInfo }}
                    <div class="footer-item">
                        Theme by <a href="https://github.com/xioyito/NewBee">NewBee</a> | Powered by <a href="https://gohugo.io/">Hugo</a>
                    </div>
                {{ end }}
            </div>
        </div>
    {{ end }}

    {{ if .Site.Params.aplayer.enable }}
        {{ partial "widgets/aplayer.html" . }}
    {{ end }}
</footer>

